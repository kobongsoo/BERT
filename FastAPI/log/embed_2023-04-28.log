2023-04-28 17:08:00,650 - embed-server - INFO - *환경 Settings: LOG_PATH:./log/embed, SEED:111, DEVICE:cpu
2023-04-28 17:08:00,651 - embed-server - INFO - *host:0.0.0.0, port:9000
2023-04-28 17:08:00,651 - embed-server - INFO - *모델 Settings: MODEL_PATH:../../data11/model/kpf-sbert-128d-v1, POLLING_MODE:mean, OUT_DIMENSION:128
2023-04-28 17:08:00,651 - embed-server - INFO - *임베딩 Settings: EMBEDDING_METHOD:0, FLOAT_TYPE:float16
2023-04-28 17:08:00,651 - embed-server - INFO - *ES Settings: ES_URL:http://10.10.4.10:9200/, ES_INDEX_FILE:./data/mpower10u_128d_10.json, BATCH_SIZE:20
2023-04-28 17:08:00,651 - embed-server - INFO - *클러스터링 Settings: CLUSTRING_MODE:kmeans, NUM_CLUSTERS:10, NUM_CLUSTERS_VARIABLE:True, OUTMODE:mean
2023-04-28 17:08:00,651 - embed-server - INFO - *문장전처리 Settings: REMOVE_SENTENCE_LEN:8, REMOVE_DUPLICATION:False
2023-04-28 17:08:00,651 - embed-server - INFO - *검색 Settings: VECTOR_MAG:0.8
2023-04-28 17:08:01,792 - embed-server - INFO - 
---bi_encoder---------------------------
2023-04-28 17:08:01,792 - embed-server - INFO - SentenceTransformer(
  (0): Transformer({'max_seq_length': 512, 'do_lower_case': True}) with Transformer model: BertModel 
  (1): Pooling({'word_embedding_dimension': 768, 'pooling_mode_cls_token': False, 'pooling_mode_mean_tokens': True, 'pooling_mode_max_tokens': False, 'pooling_mode_mean_sqrt_len_tokens': False})
  (2): Dense({'in_features': 768, 'out_features': 128, 'bias': True, 'activation_function': 'torch.nn.modules.activation.Tanh'})
)
2023-04-28 17:08:01,792 - embed-server - INFO - Transformer({'max_seq_length': 512, 'do_lower_case': True}) with Transformer model: BertModel 
2023-04-28 17:08:01,793 - embed-server - INFO - 
----------------------------------------
2023-04-28 17:09:18,774 - embed-server - INFO - 
get /search/ start-----
query:소프트웨어 보안, search_size:5
2023-04-28 17:09:18,892 - embed-server - INFO - [es_embed_query] query:소프트웨어 보안 docs:[{'rfile_name': 1230, 'rfile_text': '소프트웨어_개발보안_가이드', 'score': 1.1100591}, {'rfile_name': 1250, 'rfile_text': '최근 해킹사고 분석 및 대응방안', 'score': 0.97146773}, {'rfile_name': 1205, 'rfile_text': '10.소프트웨어관리규정', 'score': 0.96299624}, {'rfile_name': 1225, 'rfile_text': '소프트웨어관리규정', 'score': 0.95303863}, {'rfile_name': 1241, 'rfile_text': '이스트 소프트 인터넷 디스크 제안서', 'score': 0.9464657}]
2023-04-28 17:09:52,926 - embed-server - INFO - 
get /search/ start-----
query:아이폰 관리 방법, search_size:5
2023-04-28 17:09:53,017 - embed-server - INFO - [es_embed_query] query:아이폰 관리 방법 docs:[{'rfile_name': 1232, 'rfile_text': '엠파워V10 안드로이드 앱 소개', 'score': 0.77655}, {'rfile_name': 1126, 'rfile_text': '2014년도 서비스 사업부 소개', 'score': 0.77505505}, {'rfile_name': 1227, 'rfile_text': '신성장 유망서비스 전략과제별 설명서', 'score': 0.7208159}, {'rfile_name': 1215, 'rfile_text': '16.이사회운영규정', 'score': 0.69849044}, {'rfile_name': 1146, 'rfile_text': '문서중앙화 규격서', 'score': 0.6977833}]
2023-04-28 17:10:23,412 - embed-server - INFO - 
get /search/ start-----
query:database, search_size:5
2023-04-28 17:10:23,510 - embed-server - INFO - [es_embed_query] query:database docs:[{'rfile_name': 1173, 'rfile_text': '3장 컴포넌트&이벤트', 'score': 1.0791816}, {'rfile_name': 1190, 'rfile_text': '04-오라클설치', 'score': 0.8610473}, {'rfile_name': 1194, 'rfile_text': '02-관계형데이터모델', 'score': 0.86031586}, {'rfile_name': 1224, 'rfile_text': '부설연구소 사업계획 review', 'score': 0.8593047}, {'rfile_name': 1161, 'rfile_text': '2장 델파이맛보기', 'score': 0.85748416}]
2023-04-28 17:11:04,216 - embed-server - INFO - 
get /search/ start-----
query:그룹웨어와 db 연동 방안, search_size:5
2023-04-28 17:11:04,380 - embed-server - INFO - [es_embed_query] query:그룹웨어와 db 연동 방안 docs:[{'rfile_name': 1230, 'rfile_text': '소프트웨어_개발보안_가이드', 'score': 0.94068474}, {'rfile_name': 1112, 'rfile_text': '데이터베이스 튜닝', 'score': 0.92804253}, {'rfile_name': 1150, 'rfile_text': '물리적 DB 설계', 'score': 0.8921517}, {'rfile_name': 1020, 'rfile_text': 'G드라이브 운영자지침서', 'score': 0.8742043}, {'rfile_name': 1189, 'rfile_text': '01-데이터베이스개념', 'score': 0.8733749}]
2023-04-28 17:11:27,246 - embed-server - INFO - 
get /search/ start-----
query:데이터베이스 튜닝, search_size:5
2023-04-28 17:11:27,344 - embed-server - INFO - [es_embed_query] query:데이터베이스 튜닝 docs:[{'rfile_name': 1113, 'rfile_text': '데이터베이스의 생성및 구축', 'score': 0.98824126}, {'rfile_name': 1194, 'rfile_text': '02-관계형데이터모델', 'score': 0.9614082}, {'rfile_name': 1189, 'rfile_text': '01-데이터베이스개념', 'score': 0.9488449}, {'rfile_name': 1192, 'rfile_text': '05-데이터베이스구조', 'score': 0.885123}, {'rfile_name': 1112, 'rfile_text': '데이터베이스 튜닝', 'score': 0.86135083}]
2023-04-28 17:12:02,641 - embed-server - INFO - 
get /search/ start-----
query:데이터 베이스 종류, search_size:5
2023-04-28 17:12:02,747 - embed-server - INFO - [es_embed_query] query:데이터 베이스 종류 docs:[{'rfile_name': 1194, 'rfile_text': '02-관계형데이터모델', 'score': 0.90708435}, {'rfile_name': 1113, 'rfile_text': '데이터베이스의 생성및 구축', 'score': 0.89252317}, {'rfile_name': 1173, 'rfile_text': '3장 컴포넌트&이벤트', 'score': 0.87834466}, {'rfile_name': 1189, 'rfile_text': '01-데이터베이스개념', 'score': 0.85846514}, {'rfile_name': 1207, 'rfile_text': '12-테이블스페이스 이해', 'score': 0.84618396}]
2023-04-28 17:12:18,272 - embed-server - INFO - 
get /search/ start-----
query:db 종류, search_size:5
2023-04-28 17:12:18,374 - embed-server - INFO - [es_embed_query] query:db 종류 docs:[{'rfile_name': 1150, 'rfile_text': '물리적 DB 설계', 'score': 1.0503138}, {'rfile_name': 1230, 'rfile_text': '소프트웨어_개발보안_가이드', 'score': 1.0453371}, {'rfile_name': 1189, 'rfile_text': '01-데이터베이스개념', 'score': 1.0380388}, {'rfile_name': 1112, 'rfile_text': '데이터베이스 튜닝', 'score': 1.017562}, {'rfile_name': 1173, 'rfile_text': '3장 컴포넌트&이벤트', 'score': 0.98656535}]
